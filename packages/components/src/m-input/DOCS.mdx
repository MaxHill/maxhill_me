## Examples

### Basic Usage

A simple text input with a label.

<m-input label="Email" placeholder="Enter your email"></m-input>
```html
<m-input label="Email" placeholder="Enter your email"></m-input>
```

### Required Field

An input that must be filled out before form submission.

<m-input label="Username" required></m-input>
```html
<m-input label="Username" required></m-input>
```

### Email Input with Validation

An email input that validates the format automatically.

<m-input label="Email Address" type="email" required></m-input>
```html
<m-input label="Email Address" type="email" required></m-input>
```

### With Pattern Validation

An input that validates against a specific pattern (e.g., phone number).

<m-input 
  label="Phone" 
  type="tel" 
  pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
  placeholder="123-456-7890"
></m-input>
```html
<m-input 
  label="Phone" 
  type="tel" 
  pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
  placeholder="123-456-7890"
></m-input>
```

### Length Constraints

An input with minimum and maximum length requirements.

<m-input 
  label="Username" 
  minlength="3" 
  maxlength="20"
  placeholder="3-20 characters"
></m-input>
```html
<m-input 
  label="Username" 
  minlength="3" 
  maxlength="20"
  placeholder="3-20 characters"
></m-input>
```

### Custom Error Message

Override the default validation message with a custom one.

<m-input 
  label="Email" 
  type="email" 
  required 
  error-message="Please enter a valid email address"
></m-input>
```html
<m-input 
  label="Email" 
  type="email" 
  required 
  error-message="Please enter a valid email address"
></m-input>
```

### Disabled State

An input that cannot be interacted with.

<m-input label="Disabled Input" value="Cannot edit" disabled></m-input>
```html
<m-input label="Disabled Input" value="Cannot edit" disabled></m-input>
```

### Read-only State

An input that displays a value but cannot be edited.

<m-input label="Username" value="john_doe" readonly></m-input>
```html
<m-input label="Username" value="john_doe" readonly></m-input>
```

### Form Integration

Inputs work seamlessly with native forms and submit only validation.

<form id="example-form">
  <m-input name="email" label="Email" type="email" required></m-input>
  <m-input name="password" label="Password" type="password" required minlength="8"></m-input>
  <button type="submit">Submit</button>
</form>
```html
<form id="example-form">
  <m-input name="email" label="Email" type="email" required></m-input>
  <m-input name="password" label="Password" type="password" required minlength="8"></m-input>
  <button type="submit">Submit</button>
</form>
```

```js
document.querySelector('#example-form').addEventListener('submit', (e) => {
  e.preventDefault();
  const formData = new FormData(e.target);
  console.log(Object.fromEntries(formData));
});
```

### Programmatic Validation

Trigger validation programmatically using the validation API.

<m-input id="validate-example" label="Email" type="email" required></m-input>
<button onclick="document.querySelector('#validate-example').reportValidity()">
  Validate
</button>
```html
<m-input id="validate-example" label="Email" type="email" required></m-input>
<button onclick="document.querySelector('#validate-example').reportValidity()">
  Validate
</button>
```

### Custom Validation

Set custom validation messages programmatically.

<m-input id="custom-validate" label="Confirm Email"></m-input>
```html
<m-input id="custom-validate" label="Confirm Email"></m-input>
```

```js
const input = document.querySelector('#custom-validate');
const originalEmail = 'test@example.com';

input.addEventListener('m-input-blur', () => {
  if (input.value !== originalEmail) {
    input.setCustomValidity('Email addresses must match');
  } else {
    input.setCustomValidity('');
  }
});
```

## Validation Behavior

**Submit-Only Validation**: The component follows the native browser pattern where validation only triggers:
- On form submit
- When `reportValidity()` is called
- When `checkValidity()` is called
- When `setCustomValidity()` is called with a message

Validation **does NOT** automatically trigger on:
- Input events (typing)
- Change events
- Blur events (losing focus)

This prevents showing error messages prematurely while users are still filling out the form.

## Form Association

The `m-input` component is form-associated and integrates seamlessly with native HTML forms:
- Participates in form submission
- Can be validated as part of form validation
- Supports `FormData` API
- Respects `disabled` attribute for form submission
- Works with form `reset()` method

## Accessibility

- Proper label-input association using unique IDs
- ARIA attributes managed via `ElementInternals` (no attribute pollution)
- `aria-invalid` set automatically based on validation state
- `aria-disabled` set automatically for disabled inputs
- Error messages announced with `role="alert"` and `aria-live="polite"`
- Full keyboard support (native input behavior)
- Focus management with `delegatesFocus`
