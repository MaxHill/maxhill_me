import CodeExample from '../../../../apps/site/src/components/CodeExample.astro';

## Examples

### Basic Usage

A simple m-input example.

<CodeExample 
  html={`
  <form class="form" id="example-form">
    <label for="normal-input">Normal input</label>
    <input name="normal-input" />

    <m-input 
        label="m-input disabled" 
        name="m-input-example-disabled" 
        disabled
    ></m-input>

    <m-input 
        label="m-input default value" 
        name="m-input-example-default-value" 
        value="Default value"
    ></m-input>

    <m-input 
        label="m-input readonly" 
        name="m-input-example-readonly-value" 
        value="Readonly" 
        readonly
    ></m-input>

    <m-input 
        label="m-input placeholder" 
        name="m-input-example-placeholder" 
        placeholder="Placeholder..."
    ></m-input>

    <m-input 
        label="m-input clearable" 
        name="m-input-example-clearable" 
        clearable
    ></m-input>

    <m-input 
        label="m-input size" 
        name="m-input-size" size="4"
    ></m-input>
    <button type="submit">Submit</button>
    <button type="reset">Reset</button>
  </form>
  <pre id="example-form-output"></pre>
  `}
  js={`document.querySelector('#example-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const outputEl = document.querySelector("#example-form-output");
    const formData = new FormData(e.target);
    if(outputEl){
      outputEl.textContent = JSON.stringify(Object.fromEntries(formData));
    }
  });`}
/>


## Validation

Built-in constraint validation with required, minlength, maxlength, and pattern attributes.

<CodeExample 
  html={`
  <form class="form" id="example-required-form">
    <label for="normal-required-input" >Normal input</label>
    <input name="normal-required-input" required />
    <label for="normal-min-input" >Normal min 3</label>
    <input name="normal-min-input" minlength="3" />

    <m-input 
        label="Required" 
        name="m-input-required" 
        required="true"
    ></m-input>

    <m-input 
        label="Min length" 
        name="m-input-min-length" 
        minlength="3"
    ></m-input>

    <m-input 
        label="Max length" 
        name="m-input-max-length" 
        maxlength="3"
    ></m-input>

    <m-input 
        label="Pattern [0-9]" 
        name="m-input-pattern" 
        pattern="[0-9]"
    ></m-input>

    <button type="submit">Submit</button>
    <button type="reset">Reset</button>
  </form>
  <pre id="example-required-form-output"></pre>
  `}
  js={`document.querySelector('#example-required-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const outputEl = document.querySelector("#example-required-form-output");
    const formData = new FormData(e.target);
    if(outputEl){
      outputEl.textContent = JSON.stringify(Object.fromEntries(formData));
    }
  });`}
/>

## Slots

Add content before or after the input using slots for icons, buttons, or other elements.

<CodeExample 
  html={` 
<div class="form">
    <m-input label="Before">
      <svg slot="before" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-icon lucide-user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
    </m-input>

    <m-input label="After">
      <svg slot="after" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy-icon lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
    </m-input>

    <m-input label="Both" placeholder="Search...">
     <div slot="before" class="stack" data-direction="row" data-gap="1">
      <button 
        data-background="surface-raised"
        data-padding="i-3"
        data-border
      >tag 1</button>
      <button 
        data-background="surface-raised"
        data-padding="i-3"
        data-border
      >tag 2</button>
      <button 
        data-background="surface-raised"
        data-padding="i-3"
        data-border
      >tag 3</button>
      </div>
      <svg slot="after" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-icon lucide-search"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
    </m-input>
</div>
`}/>

## CSS Parts

You can style internal elements using CSS parts. This allows customization from outside the shadow DOM.

<CodeExample 
  html={`
<style>
  .styled-input::part(input) {
    font-family: var(--ff-display);
  }
  
  .styled-input::part(input-wrapper) {
    border-radius: 20px;
    color: var(--color-primary-fill-mid);
  }
  
  .styled-input::part(label) {
    color: var(--color-primary-fill-mid);
  }
  
  .styled-input::part(error) {
    background: var(--color-neutral-fill-mid);
    border-color: var(--color-neutral-stroke-mid);
  }
  
  .styled-input::part(clear-button) {
    color: var(--color-primary-fill-mid);
  }
  
  .styled-input::part(clear-button):hover {
    color: var(--color-destructive-fill-mid);
  }
</style>

<div class="form">
  <m-input 
    class="styled-input" 
    label="Styled input" 
    placeholder="Custom styled..." 
    clearable
  ></m-input>
  
  <m-input 
    class="styled-input" 
    label="With validation" 
    placeholder="Type at least 3 chars..." 
    minlength="3"
    clearable
  ></m-input>
</div>
`}/>
