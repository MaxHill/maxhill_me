<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>m-search-list with m-input Test</title>
    <script type="module">
        import { MSearchList } from './src/m-search-list/index.ts';
        import { MInput } from './src/m-input/index.ts';
        
        customElements.define('m-search-list', MSearchList);
        customElements.define('m-input', MInput);
        
        window.addEventListener('DOMContentLoaded', () => {
            const searchList = document.querySelector('m-search-list');
            const input = searchList.querySelector('m-input');
            
            console.log('Search list:', searchList);
            console.log('Input element:', input);
            
            // Test programmatic value change
            setTimeout(() => {
                console.log('Setting input value to "apple"');
                input.value = 'apple';
                input.dispatchEvent(new Event('input', { bubbles: true }));
            }, 1000);
            
            // Monitor for changes
            searchList.addEventListener('m-input-input', (e) => {
                console.log('m-input-input event received:', e.detail);
            });
        });
    </script>
    <style>
        body {
            font-family: system-ui;
            max-width: 600px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        [data-match="false"] {
            display: none;
        }
        
        .item {
            padding: 0.5rem;
            border: 1px solid #ccc;
            margin: 0.25rem 0;
        }
    </style>
</head>
<body>
    <h1>m-search-list with m-input Test</h1>
    
    <m-search-list>
        <m-input slot="controller" placeholder="Search fruits..." label="Search"></m-input>
        
        <div class="item" data-keywords="red fruit">Apple</div>
        <div class="item" data-keywords="yellow fruit">Banana</div>
        <div class="item" data-keywords="orange citrus">Orange</div>
        <div class="item" data-keywords="purple berry">Grape</div>
        <div class="item" data-keywords="red berry">Strawberry</div>
        
        <div slot="empty">No fruits found</div>
        <div slot="initial">Type to search fruits</div>
    </m-search-list>
    
    <h2>Instructions</h2>
    <ol>
        <li>Type in the search box to filter items</li>
        <li>Check browser console for event logs</li>
        <li>After 1 second, "apple" should be automatically typed and filter the list</li>
    </ol>
</body>
</html>
